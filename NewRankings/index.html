<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>A Brief Reflection On The New Ranking System</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: 1;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="../blog.css" />
  <link rel="stylesheet" href="/code/bootstrap.min.css">
  <script src="/code/jquery.min.js"></script>
  <script src="/code/bootstrap.min.js"></script>


  <ul class="bar">
    <li class="barli"><a class="active" href="/">Home</a></li>
    <li class="barli"><a href="/sportsMaths/">Maths for sport</a></li>  
    <!-- <li class="barli"><a href="https://abiswas3.github.io/differentialprivacy.github.io">Notes on Differential Privacy</a></li> -->
  </ul>

  <script src="../code/es5/tex-chtml.js"
  type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">A Brief Reflection On The New Ranking System</h1>
</header>
<div class="container">
<div class="important">
<strong><u>Disclaimer</u></strong>: I am not an athlete nor can I claim
to be a hardcore triathlon fan. I am not directly affected by the
outcome of different ranking strategies, financially or spiritually. My
interest in the problem is purely from an algorithmic game theory
standpoint. Ranking strategies often lead to pathological behaviours (<a
href="https://youtu.be/TM_QFmQU_VA?t=494">see</a> for an example).
Understanding and analysing the mathematical underpinnings of such
behaviour is a personal research interest. Note as these systems rank
actual people with feelings and were developed by a different set of
humans (also with feelings), I have tried to remain as neutral as
possible in my discourse. In the off chance someone is offended, I
apologise.
</div>
<h2 id="recap">Recap</h2>
<p>In 2020, the PTO deployed a system for ranking triathletes which many
perceived to be complicated and unfair<a href="#fn1"
class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. <a
href="https://abiswas3.github.io/sportsMaths/ProblemStatement/index.html">See</a>
for a refresher. At the heart of this ranking malarkey lies a simple
question – “How do you compare the performance of two athletes who did
not race each other on the same day?”. One cannot sort two performances
by finish time as they vary across courses. The problem is not unique to
triathlon either. Similar measurement issues arise in marathon running,
tennis, chess, golf and many other sports. This question has plagued
social choice theory since the 1950’s, so it’s unlikely any proposed
solution will resolve all outstanding issues.</p>
<p>Thus in 2023, the PTO employed a committee of athletes, who after a
year of discussion and deliberation, came up with a new system that aims
to simplify how ranking points were calculated and to re-align them to
better represent the athlete values. <a
href="https://protriathletes.org/pto-world-ranking-system/">A clear
description of the new system can be found here</a> and thus there is no
need to go over the details again.</p>
<p>At this point, as far as the PTO is concerned, this ranking problem
appears solved. The old rankings negatively affected athletes, and, thus
they were the ones who devised a new system that prioritised their
interests. The people decided for the people; democracy won <a
href="#fn2" class="footnote-ref" id="fnref2"
role="doc-noteref"><sup>2</sup></a>. <strong>This manuscript, unlike its
predecessors does not try to propose an alternate system. It simply
tries to understand the consequences of the new system.</strong></p>
<h2 id="the-new-system">The New System</h2>
<figure>
<img src="pngs/Screenshot%202023-02-17%20at%2012.04.48.png"
alt="Shown above is a screen grab from this triathlon news article which describes how the new points are calculated" />
<figcaption aria-hidden="true">Shown above is a screen grab from <a
href="https://www.triathlete.com/culture/news/new-2023-pto-rankings-revealed-dissected/">this
triathlon news article</a> which describes how the new points are
calculated</figcaption>
</figure>
<p>Roughly the idea is as follows, there are three features, namely,</p>
<ul>
<li>a tier based finish score (race position score in the figure
above).</li>
<li>the strength of the race you are participating in (sof in the figure
above).</li>
<li>how much faster you were from the top few athletes (race time score
in the figure above).</li>
</ul>
<p>You get points along each of these features and finally your score is
a weighted average of these features. From the outset it would appear
that the new system does not over prioritise a single aspect of a race
performance (such as AIT score in the old system). However, closer
examination of the point system reveals that the new system is really
based around one central concept – what tier is the race?</p>
<h2 id="the-weights-do-not-matter">The weights do not matter</h2>
<p>As advertised, the first feature accounts for <span
class="math inline">\(40\%\)</span> of your score, the second feature
accounts for <span class="math inline">\(30\%\)</span> of your score and
the third feature contributes to <span
class="math inline">\(30\%\)</span> of your score. Thus the claim is
that the final score is a mixture of three different features (position,
strength of field and time); this is merely an illusion. The three
features are highly correlated, and as a result only one feature really
matters – the race tiering i.e. how important does the PTO think this
race is (akin to how grandslams work in tennis).</p>
<figure>
<img src="pngs/plot1.png"
alt="The figure above plots the tier on the Y-axis and the SOF on the X-axis. It is easy to see that the two are positively correlated. For a fixed tier, one might observe that the SOF has enormous variance (we will get to this later) but if you do well in a high tiered race, you will almost always do well in the SOF category as well. This makes sense – The tiering of a race is based on prize money and prestige, and thus the best athletes end up wanting to participate." />
<figcaption aria-hidden="true">The figure above plots the tier on the
Y-axis and the SOF on the X-axis. It is easy to see that the two are
positively correlated. For a fixed tier, one might observe that the SOF
has enormous variance (we will get to this later) but if you do well in
a high tiered race, you will almost always do well in the SOF category
as well. This makes sense – The tiering of a race is based on prize
money and prestige, and thus the best athletes end up wanting to
participate.</figcaption>
</figure>
<p>Let <span class="math inline">\(T\)</span> represent the position
based tier score for an athlete and <span
class="math inline">\(SOF\)</span> represent the strength of field for
the given race. The timing feature is supposed to reward an athlete
based on the difference between their time and the time of the top
finishers – called the “baseline time”. Let <span
class="math inline">\(\Delta\)</span> represent the points obtained (or
lost) compared to the baseline time<a href="#fn3" class="footnote-ref"
id="fnref3" role="doc-noteref"><sup>3</sup></a>. Thus relating to the
features above:</p>
<ul>
<li><span class="math inline">\(T\)</span> : Race position time / Tier
score (Feature 1)</li>
<li><span class="math inline">\(SOF\)</span> : Strength of Field
(Feature 2)</li>
<li><span class="math inline">\(\Delta\)</span> : Points gained by
racing quicker than the baseline time. In the figure above <span
class="math inline">\(\Delta\)</span> for the second placed athlete is
<span class="math inline">\(12.16\)</span> points.</li>
</ul>
<p>The score for finishing really fast (or slow) is determined as a
function of <span class="math inline">\(\Delta\)</span> and <span
class="math inline">\(B\)</span> where <span class="math inline">\(B =
(T_1 + SOF)/2\)</span>, where <span class="math inline">\(T_1\)</span>
is the tier score of the winner (so 100 if are in a diamond race, 95 if
you are in platinum race and so on). Specifically, you get <span
class="math inline">\(0.3(B + \Delta)\)</span> points for your finish
time. <strong>Note <span class="math inline">\(B\)</span> has nothing to
do with your actual performance. <span class="math inline">\(B\)</span>
is determined even before the race starts. Moreover the magnitude of
<span class="math inline">\(B\)</span> far exceeds the magnitude of
<span class="math inline">\(\Delta\)</span> with very high
probability.</strong></p>
<p>Thus the final score <span class="math inline">\(S\)</span></p>
<p><span class="math display">\[\begin{align}
S &amp;= 0.4\times T + 0.3\times SOF + 0.3(B + \Delta) \\
&amp;= 0.4\times T + 0.3\times SOF + 0.3((T_1 + SOF)/2 + \Delta) \\
&amp;= 0.4\times T + 0.3\times SOF + 0.15\times T_1 + 0.15\times SOF +
0.3\times\Delta \\
&amp;= 0.4\times T + 0.3\times\Delta + (0.45\times SOF + 0.15 T_1)
\end{align}\]</span></p>
<p>We already know that <span class="math inline">\(T_1\)</span> and
<span class="math inline">\(SOF\)</span> are high for the big races.
Moreover these have nothing do with your race performance either. You
get them for free for entering the race (you must be able to get in the
race first, which requires a high ranking<a href="#fn4"
class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>).
Thus in a way this system enforces that the rich have more chances to
get richer. This is not surprising. Most sports that make a lot of money
are like this.</p>
<p>Even <span class="math inline">\(T\)</span> is biased towards the big
races (finishing 14th in a platinum race is the same as second in a
silver race). This might seem bizarre as there are silver races with
comparable SOF’s to Platinum races. So if you’re an upcoming new athlete
participating in a local race because you cannot afford to go to
Europe/USA all the time, then <span
class="math inline">\(\Delta\)</span> is the only lever which gives you
any control over increasing your final rank. So how much can you squeeze
out of <span class="math inline">\(\Delta\)</span>? The answer is not
much! Observe the plot below which shows <span
class="math inline">\(\Delta\)</span> (X-axis) as a function of race
finish position (Y-axis) for different tiered races <a href="#fn5"
class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></p>
<figure>
<img src="pngs/plot2.png" alt="Trulli" style="width:80%">
<figcaption>
The biggest difference an athlete made by virtue of finishing further
ahead of second place is about 10pts. An that 10pts is a rare event. On
average the races are tight and the gains are few and far between. So
most of the time, an athlete makes about 2-3 pts by winning a race
outright. When you weigh this against the other features, it has
negligible contribution in ranking.
</figcaption>
</figure>
</body>
<h2 id="the-times-they-are-a-changin">The Times, They Are A Changin</h2>
<p>As mentioned in the disclaimer, the goal of this document was to
really understand the incentives of the new ranking system. First thing
to note is that the way triathlon dealt with the problem of comparing
performances across different courses is to do away with the problem in
the first place. The incentives are clear – “to be the best, athletes
must race the best”. If everyone showed up for the races, ranking
athletes is a trivial from a mathematical perspective. <strong>If you’re
an established pro athlete this seems to be the fairest possible system
you could ask for.</strong> None of that <span
class="math inline">\(AIT\)</span> malarkey and none of that convex
optimisation <a
href="https://abiswas3.github.io/sportsMaths/PrimoRank/">ELO</a> scores
either. Simple and Straight – that’s what everyone wanted. <strong>Note:
This new system is almost identical to <a
href="https://abiswas3.github.io/sportsMaths/TommyRank/">Tommy Rank</a>
which I had recommended a year ago.</strong></p>
<p>Tennis<a href="#fn6" class="footnote-ref" id="fnref6"
role="doc-noteref"><sup>6</sup></a> and Golf rankings are very similar
in essence. Win Wimbledon and all the glory is yours. There is one issue
however. The economics of triathlon and tennis are not the same. Your
neighbour, local Bob, does not step out onto the grass courts of
Wimbledon with Novak Djokovic. However, they do pay an exorbitant amount
of money to ride up and down the high streets of Bolton with Lucy
Charles Barclay. By putting all the ranking eggs in the PTO and
championship races, your local Bob might not enjoy as much pro time any
more. It would appear that Triathlon is headed in the direction of other
mainstream sports. LeBron James is not as relatable nor accessible as
say Lionel Sanders. It seems that the new system would lead to a larger
gap between the professionals and age groupers (unless the age groupers
are willing to pay a higher premium to keep up their old lifestyle). It
is likely that this is necessary for any sport to scale economically. I
cannot say, I am not an economist. I certainly do not begrudge anyone
asking for more in return for exercising 30 hours a week and/or winning
Olympic gold medals<a href="#fn7" class="footnote-ref" id="fnref7"
role="doc-noteref"><sup>7</sup></a>. This is a debate for experts who
understand the trade-offs between <a
href="https://www.amazon.co.uk/Capitalism-Ghost-Story-Arundhati-Roy/dp/1784780944">capitalism</a>
and <a
href="https://www.amazon.com/dp/0156835207?tag=thestrategistsite-20&amp;ascsubtag=%5B%5Dst%5Bp%5Dcjsz8amqa007co7y6spqo4ac8%5Bi%5D5qy0dx%5Bv%5Da%5Bu%5D1%5Bt%5Dw%5Br%5Dgoogle.com%5Bd%5DD%5Bz%5Dm">socialism</a>.
It is beyond my skill set.</p>
<p>I’m also not sure how this could affect an upcoming pro who is low on
funds or athletes that are not from the Eu/USA. There is measurably less
value in racing smaller races now. Empirically if you looked at races in
2023, there is not that many high valued races in Oceania, Asia or
Africa (though there is likely not a high supply of athletes from these
places yet). The potential unfairness of older systems acted like a
regularising feature for the athletes with less access. They could only
beat the athletes in races they had access to and could still somehow
earn a small living by appearing to be ranked high. <a
href="https://twitter.com/Timheming/status/1627706043579916288?s=20">Journalists
have also noted</a> that the sports focus is really on the top athletes
and making sure they are fairly compensated. This seems in line with the
trend in other sports like football where the star players are bought
and sold for incredibly high wages and the lower league athletes have
second jobs.</p>
<p>All in all, as far as the rankings are concerned, the maths is cut
and dry. The system heavily biases towards athletes that show up and
race the races deemed “big” by the establishment. Showing up to big
races and doing “ok”<a href="#fn8" class="footnote-ref" id="fnref8"
role="doc-noteref"><sup>8</sup></a> is more important than doing “very
well” in smaller races. If everyone is present, sorting by finish
position gives you a fair ranking. The SOF is a constant offset for
everyone and the <span class="math inline">\(\Delta\)</span> gains from
time are monotone with finish position. <strong>So the final ranking is
essentially just your finish position in the the biggest races of the
year</strong>. The points allotments makes it impossible to have a
meaningful score unless you get into the races the PTO have declared to
be important. Just like your and my average day job, Triathlon now has
upper management. They want you to do what they think is good for you
and you shall be penalised for not following. Hospitals and schools have
such structure. Big money sports like NBA and EPL have such structure.
There is nothing morally questionable about such a system. It’s just
that triathlon is now closer to EPL than it os to ultra running. For the
athletes that could not make at least 3 of the big races – you can still
make pennies on the dollar by going to other races. But likely say
goodbye to your hopes of a top 20 finish.</p>
<h2 id="other-miscellaneous-observations">Other Miscellaneous
Observations</h2>
<p>There are few other things that stood out to me but I doubt they make
a significant difference.</p>
<ul>
<li><p>The choice of top 5 for SOF seemed rather arbitrary. Due to
travel/cost/training circumstances, not all athletes show up to all
silver and gold races. Hence there is a high variance in the strength of
field even across the same tiers of races. Perhaps <a
href="https://en.wikipedia.org/wiki/Winsorizing">a smoothing
function</a> or something more robust to outliers like <a
href="https://en.wikipedia.org/wiki/Robust_statistics">median</a> would
have made more sense. My guess is 5 seemed like a good fair number and
was picked heuristically. Then on running simulations not much changed,
so 5 was kept. <strong>There is likely an exploit here:</strong> Given
races in the same tier, find a race with the highest SOF where is
easiest to finish 6th. As the SOF only concerns the top 5 athletes, the
remaining athletes in the race have no effect on the “free” points
available. Alternatively, find races in the same tier that have one or
two of the top 5 athletes in the world. As the SOF is the average of Top
5 scores, the sof of the race will be susceptible to outliers i.e the
really good athletes will bump up the SOF for the race. Then look to
finish 4th or 5th if possible. Is this attack likely? Almost certainly
yes! Look at the first plot and consider the variance across SOF for
races with the same Tier. With a little bit of optimisation, it should
not be hard to find a sweet spot that gives you a lot of
points.</p></li>
<li><p>Similarly, the calculation for <span
class="math inline">\(\Delta\)</span> seems ad hoc. There are cases<a
href="#fn9" class="footnote-ref" id="fnref9"
role="doc-noteref"><sup>9</sup></a> where the base time is calculated
using just the winners time. In that case the winner by definition
cannot get any positive <span class="math inline">\(\Delta\)</span>
points<a href="#fn10" class="footnote-ref" id="fnref10"
role="doc-noteref"><sup>10</sup></a> and everyone else gets negative
points. However, as the final rankings are a function of top 3
performances over the year, giving others negative points does not help
an athlete. Those athletes might as well drop this performance and do
well somewhere else. However the athlete that indeed won the race got
nothing positive from winning the race. This seems like a systemic
issue. In the cases where <span class="math inline">\(\Delta\)</span> is
calculated from a base line time of top 3-5 times, this issue is still
prevalent as the winning athletes time is included to compute the
baseline, and therefore biases their score closer to 0. As shown in the
plots above, computing <span class="math inline">\(\Delta\)</span> this
way hardly makes a difference. There is a valid argument to be made to
drop this feature completely as it adds more noise than signal.</p></li>
<li><p>Like almost all sane ranking systems (and this certainly a very
reasonable system), the top few athletes are largely unaffected by
policy changes. The robustness of any system should be measured based on
how sensitive the rankings are for mid-tiered athletes. You do not need
mathematics to prove that Gustav Iden or Ashleigh Gentle is very very
good.</p></li>
</ul>
</div>
<section id="footnotes" class="footnotes footnotes-end-of-document"
role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p>Searching for PTO rankings on Twitter should reveal
Twitter rants about how unfair the old system was perceived to be.<a
href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>and as Bernard Shaw famously stated – “Democracy is a
device that ensures we shall be governed no better than we deserve.”<a
href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>More specifically, <span
class="math inline">\(\Delta\)</span> is the fraction the athlete was
off from the average performance of the top 5 athletes times 6.<a
href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>The big races have <a
href="https://twitter.com/Timheming/status/1627961692876316673?s=20">restricted
spots</a> so in order to get in, you must have a high ranking. To have a
high ranking you must do these races.<a href="#fnref4"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>PTO canadian open is not included in the results as the
website does not report SOF for the women’s field. As I have a generic
webscraper that pulls this data from the PTO website, I could not be
arsed to manually fix this.<a href="#fnref5" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>If I remember correctly, this was an intentional goal
for the PTO. To make triathlon more like the ATP or WTA circuit.<a
href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>Better they make money than those pesky chat GPT
billionaire freaks.<a href="#fnref7" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>It is always hard to actually measure how an “OK”
performance in a big race compares to winning a small race. This was why
the problem was hard in the first place. The points system describes the
current committees value system. It is neither right or wrong – just
what we would call <a
href="https://en.wikipedia.org/wiki/Inductive_bias">inductive
bias</a>.<a href="#fnref8" class="footnote-back"
role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>When not pro enough athletes finish.<a href="#fnref9"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>You cannot be head of the average if you are the
average. Everyone is now behind the average.<a href="#fnref10"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
<div id="footer">
   All models are wrong, but some are useful
</div>
</body>
</html>
